<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="de" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Mit Docker vom Linuxserver zur eigenen Cloud: Webserver mit Docker Compose</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav UT"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Zum Hauptinhalt springen</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="UT-logo" alt="Universität Tübingen" src="assets/images/UT-logo.svg"><span class="badge text-bg-warning">
          <abbr title="Diese Lektion befindet sich in der Alpha-Phase, was bedeutet, dass sie bereits einmal unterrichtet wurde und die Autoren das Feedback einarbeiten.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
              Alpha
            </a>
            <span class="visually-hidden">Diese Lektion befindet sich in der Alpha-Phase, was bedeutet, dass sie bereits einmal unterrichtet wurde und die Autoren das Feedback einarbeiten.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Thema umschalten (automatisch)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Lernansicht <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/08-webserver-docker-compose.html';">Dozentenansicht</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav UT" aria-label="Hauptnavigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Navigation umschalten">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menü</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Universität Tübingen" src="assets/images/UT-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Mit Docker vom Linuxserver zur eigenen Cloud
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Suche auf der All-In-One-Seite" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Mit Docker vom Linuxserver zur eigenen Cloud
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Hauptpunkte</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Lernprofile</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Mehr <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Suche auf der All-In-One-Seite"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Suche auf der All-In-One-Seite">Suche auf der All-In-One-Seite</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Mit Docker vom Linuxserver zur eigenen Cloud
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 61%" class="percentage">
    61%
  </div>
  <div class="progress UT">
    <div class="progress-bar UT" role="progressbar" style="width: 61%" aria-valuenow="61" aria-label="Lernfortschritt" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Menü schließen" alt="Menü schließen" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Ausblenden " data-episodes="Episoden ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Lernansicht
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/08-webserver-docker-compose.html">Dozentenansicht</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODEN
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Zusammenfassung und Einrichtung</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01_vorbesprechung.html">1. Vorbesprechung</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02_betriebssystem-und-linuxgrundlagen.html">2. Betriebssystem und Linuxgrundlagen</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-remote-access.html">3. Remote Access: das SSH-Protokoll.rmd</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-sicherheit-1-benutzer-dateien.html">4. Sicherheit 1: Benutzer und Dateirechte</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-sicherheit-2-firewall-file2ban.html">5. Sicherheit 2: Firewall und Fail2Ban</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-docker-basics.html">6. Grundlegendes zu Docker</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-docker-compose.html">7. Docker compose</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        8. Webserver mit Docker Compose
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#allgemeines-zu-webservern">Allgemeines zu Webservern</a></li>
<li><a href="#externer-zugriff">Externer Zugriff</a></li>
<li><a href="#webserver-mit-docker">Webserver mit Docker</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09-proxy-docker-compose.html">9. 09_proxy-docker-compose</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10-nextcloud-aio.html">10. Nextcloud mit Docker installieren</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="11-nextcloud-aio-konfiuguration.html">11. Nextcloud AIO: Konfiguration</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCEN
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Hauptpunkte</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossar</a>
                      </li>
                      <li>
                        <a href="profiles.html">Lernprofile</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">Alles auf einer Seite sehen</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Vorheriges und nächstes Kapitel"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07-docker-compose.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Zurück</a>
        <a class="chapter-link float-end" href="09-proxy-docker-compose.html">Weiter<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07-docker-compose.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Zurück: Docker compose
        </a>
        <a class="chapter-link float-end" href="09-proxy-docker-compose.html" rel="next">
          Weiter: 09_proxy-docker-comp...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Webserver mit Docker Compose</h1>
        <p>Zuletzt aktualisiert am 2025-10-07 |

        <a href="https://github.com/Dr-Eberle-Zentrum/docker-linuxserver-cloud/edit/main/episodes/08-webserver-docker-compose.Rmd" class="external-link">Diese Seite bearbeiten <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Alle Lösungen anzeigen " data-collapse="Alle Lösungen ausblenden "> Alle Lösungen anzeigen <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Übersicht</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Fragen</h3>
<ul><li><p>Wie können Webapplikation im Internet erreichbar gemacht
werden?</p></li>
<li><p>Wie funktionieren Webserver?</p></li>
<li><p>Wie sichere ich die Kommunikation ab?</p></li>
<li><p>Wie kann ein Webserver in Docker Compose erstellt werden</p></li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Ziele</h3>
<ul><li>Grundlagen von Webservern</li>
<li>Domainnamen mit DDNS erhalten</li>
<li>TLS-Zertifikate mit Letsencrypt erhalten</li>
<li>Webserver mit Docker compose erstellen</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="allgemeines-zu-webservern">Allgemeines zu Webservern<a class="anchor" aria-label="anchor" href="#allgemeines-zu-webservern"></a></h2>
<hr class="half-width"><p>Webserver sind Softwarekomponenten, die auf Anfragen von Clients
(z.B. Browsern) reagieren und diese Anfragen an eine Webapplikation
(oder weitere Webserver) weiterleiten. Damit spielen sie eine wichtige
Rolle in der Bereitstellung von Webapplikationen.</p>
<p>Abhängig von der angefragten Domain (<code>uni-tuebingen.de</code>)
oder der konkreten Datei (<code>uni-tuebingen.de/index.html</code>) wird
der Webserver Dateien zurück liefern, an eine Webapplikation
weiterleiten oder Funktionen ausführen. Dies ermöglicht es auch, mehrere
Webapplikationen auf einem einzigen Server zu hosten und den
Datenverkehr effizient zu verwalten.</p>
<p>Durch die Überwachung der Verbindung zwischen Client und
Webapplikation kann sichergestellt werden, dass die Verbindung stabil
und zuverlässig ist. Für Verbindungen über das Internet oder andere
unsichere Netzwerke sollte immer eine verschlüsselte Kommunikation
aufgebaut werden. Diese wird ebenfalls im Webserver konfiguriert (z.B.
mit TLS-Zertifikaten für die HTTPS-Verbindung).</p>
<p>Webserver können auch die Authentifizierung von Benutzern ermöglichen
oder Anfragen auf Basis bestimmter Kriterien (z.B. Herkunft der
IP-Adresse oder Anfragehäufigkeit) blockieren. Dadurch kann
unerwünschter Traffic blockiert werden, die Leistung der Webapplikation
verbessert werden und die Sicherheit erhöht.</p>
<p>Eine weitere Funktionalität ist das Load-Balancing. Hierbei kann ein
Webserver große Mengen an angefragten Daten auf mehrere sogenannten
Upstream-Server verteilen, um die Last je Server in Grenzen zu
halten.</p>
<p>Da der Webserver der zentrale Kommunikationsknoten zwischen
Webapplikation und Client ist, ist dessen Konfiguration für die
Sicherheit und Stabilität der Webapplikation (bzw. der Kommunikation mit
dieser) äußerst wichtig. Die genaue Konfiguration eines Webservers ist
jeweils abhängig vom genauen Einsatzzweck. Für viele Webapplikationen
stellen die Hersteller Vorlagen für Konfigurationen der Webserver
bereit.</p>
<p>Einige wichtige Webserver sind:</p>
<ul><li>Nginx (offene Lizenz, modern, eher leichtgewichtig, weit
verbreitet)</li>
<li>Apache2 (offene Lizenz, der “Dinosaurier” unter den Webserver,
performant, weit verbreitet)</li>
<li>Microsoft IIS (proprietär)</li>
<li>Google Web Server (proprietär, nur von Google-Diensten
verwendet)</li>
</ul></section><section><h2 class="section-heading" id="externer-zugriff">Externer Zugriff<a class="anchor" aria-label="anchor" href="#externer-zugriff"></a></h2>
<hr class="half-width"><p>Um einen Webserver aus dem Internet erreichen zu können, muss der
Server, auf welchem die Webserver-Software installiert ist, und das
Netzwerk in welchem sich der Server befindet eine öffentliche IP-Adresse
und idealerweise auch einen öffentlich bekannten Domainnamen haben.</p>
<p>Für diesen Kurs ist der Hypervisor, auf welchem die virtuellen Server
laufen, über eine IP-Adresse im Internet erreichbar. Ein zentraler
Webserver ist als Proxy-Server konfiguriert und leitet Anfragen abhängig
von der angefragten Domain intern an die jeweilige virtuelle Maschine
weiter. Dort muss dann ein eigener Webserver die Anfrage annehmen und
verarbeiten.</p>
<p>Allerdings müssen Sie eine Domain für Ihren Server konfigurieren.
Hierzu kann kostenpflichtig eine vollwertige Domain erworben werden
(<code>domain.de</code>) oder man nutzt kostenlose DDNS-Dienste
(DDNS=Dynamic Domain Name System).</p>
<p>DDNS funktioniert unter Zuhilfenahme eines externen Dienstleisters.
Bei diesem wird eine Subdomain beantragt, z.B.
<em>server.ddns-anbieter.de</em>. Auf dem eigenen Server kann das
Programm <strong>DDClient</strong> installiert werden. Dieses
kontaktiert regelmäßig eine Internetseite und erhält von dieser die
eigene öffentliche IP-Adresse als Echo zurück. Dadurch erfährt DDClient,
unter welcher IP-Adresse der Server erreichbar ist und schickt diese an
den DDNS-Anbieter, bei welchem die eigene Domain beantragt wurde. Dieser
Anbieter wiederum trägt die IP-Adresse in seinem DNS ein und macht
dadurch die IP-Adresse zur Domain öffentlich bekannt.</p>
<div id="dns" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Wichtig</span>
<div id="dns" class="callout-inner">
<h3 class="callout-title">DNS</h3>
<div class="callout-content">
<p><strong>DNS</strong> kann als Telefonbuch des Internets verstanden
werden, in welchem IP-Adressen in Domainnamen übersetzt werden, z.B.
wird die IP-Adresse 49.13.55.174. in <a href="https://wikipedia.de" class="external-link">wikipedia.de</a> übersetzt. Mehr zum Thema
DNS findet sich z.B. beim <a href="https://www.elektronik-kompendium.de/sites/net/0901141.htm" class="external-link">Elektronikkompendium</a>.</p>
</div>
</div>
</div>
<p>Ruft ein Computer die Adresse <em>server.ddns-anbieter.de</em> auf,
wird im DNS des DDNS-Anbieters die öffentliche IP-Adresse des Servers
(in unserem Fall die Adresse des zentralen Proxy-Servers) ausgelesen und
übermittelt. Dadurch wird die Anfrage an die richtige IP-Adresse
geschickt.</p>
<p>Es gibt verschiedene Anbieter für DDNS-Dienste. Gut geeignet sind
z.B. <a href="https://noip.com" class="external-link">No-IP</a> oder <a href="https://www.ddnss.de/" class="external-link">DDNSS</a>.</p>
<p>DDNS wird eigentlich primär verwendet, um an privaten
Internetanschlüssen, die häufig eine sich änderende IP-Adresse haben,
immer über die gleiche Domain erreichbar zu sein. Im Fall des Kurses ist
eine statische öffentliche IP-Adresse vorhanden und es wäre sauberer
eine ordentliche Domain zu kaufen (oder im Rechenzentrum der Universität
zu beantragen). Für die Testzwecke dieses Kurses genügt aber eine
DDNS-Domain. Zeitgleich kann die damit erlernte Technik auch gut für
Zwecke des Selfhostings im heimischen Wohnzimmer oder kleinen Büros ohne
statische IP-Adresse angewendet werden.</p>
<div class="section level3">
<h3 id="umsetzung-ddns-unter-ubuntu">Umsetzung DDNS unter Ubuntu<a class="anchor" aria-label="anchor" href="#umsetzung-ddns-unter-ubuntu"></a></h3>
<p>Für die Implementierung des DDNS-Verfahrens wird wie folgt
vorgegangen:</p>
<ul><li><p>Account bei einem DDNS-Anbieter registrieren</p></li>
<li><p>Im Falle von <em>No-IP</em> muss im <a href="https://noip.com" class="external-link">Webportal</a> des Anbieters nach der
Registrierung noch ein Benutzername festgelegt werden</p></li>
<li><p>Beim gewählten Anbieter muss ein Domainname reserviert werden
(A-Record für IPv4 oder AAAA-Record für IPv6)</p></li>
<li>
<p>ddclient auf dem Server installieren und konfigurieren:
<code>sudo apt-get install ddclient</code></p>
<ul><li><p>Im Anschließenden Dialog wird im Falle von No-IP <em>no-ip</em>
gewählt, ansonsten <em>anderer</em></p></li>
<li><p>als Benutzername und Passwort werden die Zugangsdaten des
DDNS-Anbieters eingetragen</p></li>
<li><p>als <em>IP-Adressen-Ermittlungsmethode</em> wird
<em>Web-basierter IP-Ermittlungsdienst</em> gewählt</p></li>
<li><p>der zu aktualisierende Rechner ist der beim DDNS-Anbieter
reservierte Domainnamen</p></li>
</ul></li>
</ul><figure><img src="fig/08_ddclient01.png" alt="Konfigurationsdialog von DDClient. Es stehen mehrere DDNS-Anbieter zur Auswahl. Hervorgehoben ist no-ip.com" class="figure mx-auto d-block"><div class="figcaption">DDClient konfigurieren 1: Anbieter
auswählen</div>
</figure><figure><img src="fig/08_ddclient02.png" alt="Konfigurationsdialog von DDClient: festlegen der IP-Ermittlungsmethode, hervorgehoben ist die Option web-basierter IP-Ermittlungsdienst" class="figure mx-auto d-block"><div class="figcaption">DDClient konfigurieren 2:
Ermittlungsmehode</div>
</figure><figure><img src="fig/08_ddclient03.png" alt="Konfigurationsdialog von DDClient: eingabe des Domainnamens, als Platzhalter ist server.ddns-anbieter.de zu sehen" class="figure mx-auto d-block"><div class="figcaption">DDClient konfigurieren 3: Domainname</div>
</figure><p>Nach der Installation sollte die <strong>Konfigurationsdatei</strong>
überprüft und ggf. angepasst werden:
<code>sudo nano /etc/ddclient.conf</code>. Je nach DDNS-Anbieter sieht
die Konfigurationsdatei unterschiedlich aus.</p>
<div class="tabs">
<nav><div id="nav-tab-1" class="nav nav-tabs" role="tablist">
<button class="nav-link active" id="nav-tab-1-1" data-bs-toggle="tab" data-bs-target="#nav-tabpanel-1-1" type="button" role="tab" aria-controls="nav-tabpanel-1-1" aria-selected="true">
  <h3 class="tab-header" id="nav-tab-heading-1-1">
  DDNSS.de
  </h3>
</button>
<button class="nav-link" id="nav-tab-1-2" data-bs-toggle="tab" data-bs-target="#nav-tabpanel-1-2" type="button" role="tab" aria-controls="nav-tabpanel-1-2" aria-selected="false">
  <h3 class="tab-header" id="nav-tab-heading-1-2">
  NO-IP:
  </h3>
</button>
</div>
</nav><div id="nav-tabContent-1" class="tab-content">
<div id="nav-tabpanel-1-1" class="tab-pane show active" aria-labelledby="nav-tab-1-1" role="tabpanel">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#für ddnss.de</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="va">protocol</span><span class="op">=</span>dyndns2</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="va">use</span><span class="op">=</span>web, <span class="va">web</span><span class="op">=</span>https://api.ipify.org/ </span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="va">server</span><span class="op">=</span>ddnss.de</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="va">login</span><span class="op">=&lt;</span>DDNSSLoginName<span class="op">&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="va">password</span><span class="op">=</span><span class="st">'&lt;Passwort&gt;'</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="op">&lt;</span>domainname<span class="op">&gt;</span>.ddnss.de</span></code></pre>
</div>
</div>
<div id="nav-tabpanel-1-2" class="tab-pane" aria-labelledby="nav-tab-1-2" role="tabpanel">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">#NO-IP.com</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="va">protocol</span><span class="op">=</span>noip</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="va">use</span><span class="op">=</span>web, <span class="va">web</span><span class="op">=</span>http://ip1.dynupdate.no-ip.com/</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="va">login</span><span class="op">=&lt;</span>noip-username<span class="op">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="va">password</span><span class="op">=</span>’<span class="op">&lt;</span>noip-passwort<span class="op">&gt;</span>’</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="op">&lt;</span>noip-Domainname<span class="op">&gt;</span></span></code></pre>
</div>
</div>
</div>
</div>
<p>Wird die Konfigurationsdatei manuell geändert, muss ddclient neu
gestartet werden:
<code>sudo systemctl restart ddclient.service</code></p>
</div>
</section><section><h2 class="section-heading" id="webserver-mit-docker">Webserver mit Docker<a class="anchor" aria-label="anchor" href="#webserver-mit-docker"></a></h2>
<hr class="half-width"><p>Damit auf dem eigenen Server auf Anfragen aus dem Internet auch
reagiert wird, muss ein Webserver installiert werden. Dazu kann in einem
Docker Compose Projekt der Apache-Webserver installiert werden. Um die
Grundfunktionalität zu testen, wird vorerst keine besondere
Konfiguration vorgenommen.</p>
<div class="section level3">
<h3 id="docker-compose-projekt-erstellen">Docker Compose Projekt erstellen<a class="anchor" aria-label="anchor" href="#docker-compose-projekt-erstellen"></a></h3>
<ol style="list-style-type: decimal"><li><p>Arbeitsverzeichnis anlegen: z.B.
<code>sudo mkdir /opt/apache-docker/</code> und
<code>sudo chown &lt;username&gt;:&lt;username&gt; /opt/apache-docker</code></p></li>
<li><p>Ins Arbeitsverzeichnis wechseln (<code>cd</code>-
Befehl)</p></li>
<li><p>Dort die Compose-Datei erstellen
(<code>nano compose.yaml</code>)</p></li>
</ol><div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">apache</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="at">  </span><span class="fu">image</span><span class="kw">:</span><span class="at"> httpd:latest</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="at">  </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> apache</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="st">'80:80'</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="at">  </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> ./website:/usr/local/apache2/htdocs</span></span></code></pre>
</div>
<ol start="4" style="list-style-type: decimal"><li><p>Volume-Verzeichnis für den Datenaustausch mit dem Container
erstellen: <code>mkdir website</code></p></li>
<li><p>Website-Beispiel erstellen: <code>nano website/index.html</code>,
z.B. wie folgt</p></li>
</ol><div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">HTML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode html" tabindex="0"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Apache-Test<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>        body {</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>            <span class="kw">font-family</span><span class="ch">:</span> <span class="dv">Arial</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>        }</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>        h1 {</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>            <span class="kw">color</span><span class="ch">:</span> <span class="cn">blue</span><span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>        }</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>        p {</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>            <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">18</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>        }</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Welcome to Apache-Test<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>This is a simple paragraph to test the Apache server.<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre>
</div>
<ol start="6" style="list-style-type: decimal"><li><p>Docker Container starten: <code>sudo docker compose up</code>
oder im Hintergrund <code>sudo docker compose up -d</code></p></li>
<li><p>Erreichbarkeit testen: öffnen Sie auf einem Endgerät im
Webbrowser ihre registrierte DDNS-Domain. Wird Ihnen die
Beispiel-HTML-Datei angezeigt?</p></li>
<li><p>Container stoppen: <code>STRG</code>+ <code>c</code> oder im
Hintergrund <code>sudo docker compose down</code></p></li>
</ol></div>
<div class="section level3">
<h3 id="tls-verschlüsselung">TLS-Verschlüsselung<a class="anchor" aria-label="anchor" href="#tls-verschl%C3%BCsselung"></a></h3>
<div class="section level4">
<h4 id="kommunikationsweg">Kommunikationsweg:<a class="anchor" aria-label="anchor" href="#kommunikationsweg"></a></h4>
<p>Aktuell erfolgt die Kommunikation mit dem Server über das
HTTP-Protokoll mit Port 80. Diese Verbindung ist unverschlüsselt. Das
bedeutet, dass sämtliche Daten (z.B. Passwörter und Dateien) die zum
Server geschickt oder vom Server verschickt werden, von einem “Zuhörer”
auf der Leitung mitgelesen werden können (das geht z.B. mit dem Tool <a href="https://www.wireshark.org/about.html" class="external-link">Wireshark</a> v.a. im LAN
recht einfach, siehe z.B. diese Anleitung von <a href="https://www.varonis.com/de/blog/verwendung-von-wireshark" class="external-link">Varonis</a>).</p>
</div>
<div class="section level4">
<h4 id="grundlagen-der-https-verbindung">Grundlagen der HTTPS-Verbindung<a class="anchor" aria-label="anchor" href="#grundlagen-der-https-verbindung"></a></h4>
<p>Um das Auslesen der Verbindung und damit das Abfangen sämtlicher
Kommunikation zu unterbinden, muss die Verbindung verschlüsselt werden.
Um eine HTTP-Verbindung zu verschlüsseln wird diese durch das
TLS-Protokoll zu einer HTTP<strong>S</strong>-Verbindung erweitert.
HTTPS ist heute glücklicherweise der Standard bei den meisten
Internetseiten. Dass Sie eine HTTPS-Verbindung zu einer Seite aufgebaut
haben, erkennen Sie in der Adresszeile Ihres Browsers anhand eines
Schlosssymbols, bei besonders starken Zertifikaten ggf. zusätzlich auch
anhand einer grünen Markierung (siehe die folgende Abbildung).</p>
<figure><img src="fig/08_https-browser.png" alt="Browseradresszeile mit der Adresse https://uni-tuebingen.de. Durch ein Schlosssymbol wird die https-Verbindung dargestellt." class="figure mx-auto d-block"><div class="figcaption">HTTPS-Verbindung im Browser. das Schloss zeigt
eine verschlüsselte HTTPS-Verbindung an</div>
</figure><p>Die Grundlage des TLS-Protokolls stellen Zertifikate dar, die die
Authentizität der Website bestätigen.</p>
<p>Dazu ein nicht technisches Vergleichsbeispiel: Sie wollen bei einem
Geschäftsvorgang die Identität des Gegenübers überprüfen. Zeigt Ihnen
die Person einen selbst ausgestellten Ausweis, werden Sie diesem
Personalausweis nicht vertrauen. Zeigt die Person jedoch einen Ausweis,
der von einer staatlichen Behörde ausgestellt wurde, welcher Sie
vertrauen, können Sie auch dem vorgelegten Ausweis vertrauen.</p>
<p>Übertragen auf die HTTPS-Verbindung sieht es wie folgt aus: Ein
Website-Betreiber kann sich selbst ein TLS-Zertifikat ausstellen (unter
Linux z.B. mit dem Programm <em>OpenSSL</em>) und dieses einem
anfragendem Webbrowser oder sonstigem Client präsentieren. Allerdings
kann einem solchen selbst ausgestellten Zertifikat nicht von Dritten
vertraut werden. Der Browser wird die Verbindung als unsicher ablehnen
und eine Warnmeldung zeigen. Damit ein Client dem Zertifikat vertrauen
kann, muss dieses genau wie beim Personalausweis von einer zentralen
Stelle ausgestellt werden. Diese zentralen Stellen (als
<em>Zertifizierungsstellen</em> oder im Englischen als <em>Certificate
Authority</em> bezeichnet) können auf Anfrage ein Zertifikat ausstellen,
sofern die Identität der anfragenden Stelle gewährleistet ist.</p>
<p>Gleichzeitig besitzt die Zertifizierungsstelle selbst ein Zertifikat,
dass deren Identität bestätigt. Dieses Zertifizierungsstellenzertifikat
wiederum ist vom Hersteller Ihres Betriebssystems auf Ihrem PC
hinterlegt und als vertrauenswürdig eingestuft worden. Überprüft Ihr
Browser nun das Zertifikat der Website, stellt er zunächst fest, dass
das präsentierte Zertifikat von einer Zertifizierungsstelle ausgestellt
wurde, welcher er vertraut. Außerdem wird überprüft, ob die aufgerufene
Adresse auch der im Zertifikat hinterlegten Adresse entspricht.</p>
<p>Rufen Sie eine Website auf, die ein falsches Zertifikat präsentiert
(z.B. für die falsche Adresse, ein abgelaufenes oder selbst
ausgestelltes Zertifikat), erhalten Sie eine Warnmeldung. Diese sollten
Sie ernst nehmen, da es auf einen Betrugsversuch hindeuten kann, in
welchem eine angreifende Person sich für die Website ausgibt, die Sie
eigentlich aufrufen wollten (z.B. die Seite Ihres Online-Bankings).</p>
<figure><img src="fig/08_https-browser-unsecure.png" alt='Browserfenster, dass eine unsichere https-Verbindung zeigt, welche mit einer Warnung angezeigt wird: "Warnung: Mögliches Sicherheitsrisiko erkannt"' class="figure mx-auto d-block"><div class="figcaption">Fehlgeschlagene HTTPS-Verbindung im Browser mit
Sicherheitswarnung: die Verbindung schläg fehl, da die aufgerufne
Adresse (134.2.5.1) nicht der Adresse im Zertifikat entspricht
(ersichtlich nach Klick auf den Erweitert-Button)</div>
</figure></div>
<div class="section level4">
<h4 id="tls-verschlüsselung-einrichten">TLS-Verschlüsselung einrichten<a class="anchor" aria-label="anchor" href="#tls-verschl%C3%BCsselung-einrichten"></a></h4>
<p>Um die eigene Website per HTTPS erreichen zu können, muss der Server
ein Zertifikat von einer Zertifizierungsstelle erhalten, die von allen
Computern anerkannt ist. Während dies früher nur gegen Bezahlung möglich
war, existiert seit einigen Jahren mit <a href="https://letsencrypt.org/" class="external-link">Letsencrypt</a> ein gemeinnütziger
Anbieter, der kostenlose Zertifikate zur Verfügung stellt. Diese sind
jedoch nur <strong>drei Monate gültig</strong> und müssen dann
<strong>verlängert</strong> werden.</p>
<p>Um ein solches Zertifikat zu erhalten, muss man gegenüber Letsencrypt
nachweisen, dass man die Eigentümer der Domain ist, für welche das
Zertifikat angefragt wird. Das heißt: wenn Sie für die Adresse
<em>server.ddns-provider.de</em> ein Zertifikat erhalten wollen, müssen
Sie nachweisen, dass sie den Webserver, der die Seite
<em>server.ddns-provider.de</em> ausliefert, verwalten. Diesen Nachweis
erbringen Sie nicht manuell, sondern mit Hilfe verschiedener Programme
(z.B. Certbot). Mit diesen Programmen werden automatisiert einige
Informationen zwischen Ihrem Webserver und den Servern von Letsencrypt
ausgetauscht, anhand deren die Eigentümerschaft nachgewiesen werden
kann. Anschließend wird das Zertifikat von der Zertifizierungsstelle
(Letsencrypt) ausgestellt und kann dann in den eigenen Webserver
integriert werden.</p>
</div>
<div class="section level4">
<h4 id="zertifikat-erhalten">Zertifikat erhalten:<a class="anchor" aria-label="anchor" href="#zertifikat-erhalten"></a></h4>
<p>In Docker kann das Hilfsprogramm für den Erhalt des Zertifikats in
das Docker Compose Projekt integriert werden. Hierzu bestehen, wie eine
Internetrecherche schnell aufzeigen wird, verschiedene
Möglichkeiten.</p>
<p>Im Folgenden eine Möglichkeit, in welcher das Program certbot als
zweiter Container dem Docker Compose Projekt hinzugefügt wird:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="at">  </span><span class="fu">apache</span><span class="kw">:</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> httpd:latest</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> apache</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">'80:80'</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">'443:443'</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">    #Beispiel-Internetseite</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> ./website:/usr/local/apache2/htdocs</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">    #Webinhalte für certbot challenge</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/www:/usr/local/apache2/htdocs:ro</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">    #Zertifikate</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/conf:/usr/local/apache2/ssl:ro</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> apache-net</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="at">  </span><span class="fu">certbot</span><span class="kw">:</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> apache-certbot</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> certbot/certbot:latest</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/www:/var/www/certbot:rw</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/conf:/etc/letsencrypt:rw</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/log:/var/log/letsencrypt:rw</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> apache-net</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="at">  </span><span class="fu">apache-net</span><span class="kw">:</span></span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> apache-net</span></span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="at">    </span><span class="fu">external</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<span class="callout-header">Aufgabe</span>
<div class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Schauen Sie sich die compose.yaml-Datei genau an. Was bewirken die
einzelnen Parameter?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Zeige mir die Lösung </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Im Unterschied zum ersten einfachen Beispiel, ist in diesem Projekt
der certbot-Container als zweiter Dienst hinzugekommen. Außerdem hat der
Apache-Container zusätzliche Volumes erhalten. Certbot und Apache teilen
sich dabei einige der Volumes, da beide Container auf die Dateien
zugreifen müssen.</p>
</div>
</div>
</div>
</div>
<p>Um nun das Zertifikat zu erhalten, muss im Certbot-Container ein
Befehl abgesetzt werden. Dazu wird der
<code>docker compose run</code>-Befehl genutzt:
<code>sudo docker compose run --rm certbot certonly --webroot --webroot-path /var/www/certbot -d &lt;server.ddns-provider.de&gt;</code>
(eigenen Domainnamen nutzen).</p>
<p>Wurde das Zertifikat erhalten, kann es später mit folgendem Befehle
erneuert werden: <code>docker compose run --rm certbot renew</code></p>
</div>
<div class="section level4">
<h4 id="webserver-von-http-auf-https-umstellen">Webserver von HTTP auf HTTPS umstellen<a class="anchor" aria-label="anchor" href="#webserver-von-http-auf-https-umstellen"></a></h4>
<p>Um das Zertifikat für die Sicherung des eigenen Webservers zu nutzen,
müssen einige Konfigurationsschritte vorgenommen werden.</p>
<ol style="list-style-type: decimal"><li><p>Apache-Konfigurationsdateien aus dem Container zum Host kopieren
(bei laufendem Container): `sudo docker cp
apache-docker:/usr/local/apache2/conf apache2/</p></li>
<li><p>Wurde das Zertifikat erhalten muss in der
<strong>Firewall</strong> Port 80 geschlossen und Port 443 geöffnet
werden.</p></li>
<li><p>Konfigurationsdatei für die Test-Webseite erstellen:
<code>nano apache2/conf/webseite.conf</code></p></li>
</ol><pre class="apacheconf"><code>&lt;VirtualHost *:80&gt;
  DocumentRoot /usr/local/apache2/htdocs
  ServerName  server.ddns-provider.de

  RewriteEngine on
  RewriteCond %{SERVER_NAME} =server.ddns-provider.de
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
&lt;/VirtualHost&gt;

&lt;VirtualHost *:443&gt;
  DocumentRoot /usr/local/apache2/htdocs
  ServerName  server.ddns-provider.de
  SSLCertificateFile /usr/local/apache2/ssl/live/server.ddns-provider.de/fullchain.pem
  SSLCertificateKeyFile /usr/local/apache2/ssl/live/server.ddns-provider.de/privkey.pem
&lt;/VirtualHost&gt;</code></pre>
<ol start="4" style="list-style-type: decimal"><li>Angepasste Apache-Konfiguration über die compose.yaml Datei
einbinden:</li>
</ol><div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="at">  </span><span class="fu">apache</span><span class="kw">:</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">    #... wie gehabt</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">    #Beispiel-Internetseite</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> ./website:/usr/local/apache2/htdocs</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">    #Webinhalte für certbot challenge</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/www:/usr/local/apache2/htdocs:ro</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">    #Zertifikate</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./certbot/conf:/usr/local/apache2/ssl:ro</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">    #Konfiguration</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ./apache2/conf/:/usr/local/apache2/conf/</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">    #...wie gehabt</span></span></code></pre>
</div>
<ol start="5" style="list-style-type: decimal"><li><p>Das gesamte Compose-Projekt starten:
<code>sudo docker compose up -d</code></p></li>
<li><p>Überprüfen mit <code>sudo docker compose logs</code> und im
Webbrowser am Endgerät durch Eingabe der eigenen Domain.</p></li>
<li><p>Ggf. stoppen mit <code>sudo docker compose down</code></p></li>
</ol><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Hauptpunkte</span>
<div class="callout-inner">
<div class="callout-content">
<ul><li><p>Webserver sind die Kommunikationszentrale zwischen Client und
Webapplikation</p></li>
<li><p>Um den Webserver per Domain zu erreichen, kann bei einem
DDNS-Dienst eine dynamische Domain beantragt werden</p></li>
<li><p>Zur Absicherung der Kommunikation zwischen Server und Client muss
ein TLS-Zertifikat beantragt und eingerichtet werden</p></li>
<li><p>Mit Docker Compose kann der Apache-Webserver zusammen mit Certbot
für das HTTPS-Protokoll eingerichtet werden</p></li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Vorheriges und nächstes Kapitel"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07-docker-compose.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Zurück</a>
        <a class="chapter-link float-end" href="09-proxy-docker-compose.html">Weiter<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07-docker-compose.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Zurück: Docker compose
        </a>
        <a class="chapter-link float-end" href="09-proxy-docker-compose.html" rel="next">
          Weiter: 09_proxy-docker-comp...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Diese Lektion unterliegt dem <a href="CODE_OF_CONDUCT.html">Verhaltenskodex</a></p>
        <p>

        <a href="https://github.com/Dr-Eberle-Zentrum/docker-linuxserver-cloud/edit/main/episodes/08-webserver-docker-compose.Rmd" class="external-link">Auf GitHub bearbeiten</a>

	
        | <a href="https://github.com/Dr-Eberle-Zentrum/docker-linuxserver-cloud/blob/main/CONTRIBUTING.md" class="external-link">Beitragen</a>
        | <a href="https://github.com/Dr-Eberle-Zentrum/docker-linuxserver-cloud/" class="external-link">Quelle</a></p>
				<p><a href="https://github.com/Dr-Eberle-Zentrum/docker-linuxserver-cloud/blob/main/CITATION.cff" class="external-link">Zitieren</a> | <a href="mailto:david.kirschenheuter@uni-tuebingen.de">Kontakt</a> | <a href="https://carpentries.org/about/" class="external-link">Über</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Vorlage lizenziert unter <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> von <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Erstellt mit <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a> und <a href="https://github.com/Dr-Eberle-Zentrum/varnish/tree/801bcb40bf3fb18c37950e8d445d79e8aec39af7" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Zurück nach oben"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Zurück</span> nach oben
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://Dr-Eberle-Zentrum.github.io/docker-linuxserver-cloud/08-webserver-docker-compose.html",
  "inLanguage": "de",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "Nextcloud, Self-hosted, Docker, Linux, Webserver, HTTPS",
  "name": "Webserver mit Docker Compose",
  "creativeWorkStatus": "active",
  "url": "https://Dr-Eberle-Zentrum.github.io/docker-linuxserver-cloud/08-webserver-docker-compose.html",
  "identifier": "https://Dr-Eberle-Zentrum.github.io/docker-linuxserver-cloud/08-webserver-docker-compose.html",
  "dateCreated": "2025-08-18",
  "dateModified": "2025-10-07",
  "datePublished": "2025-10-07"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

